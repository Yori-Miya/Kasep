<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reset Password - KASEP</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="font-sans text-gray-800">
    <!-- ===== Reset Password Page ===== -->
    <section
      class="relative min-h-screen bg-cover bg-center bg-no-repeat flex items-center justify-center px-6"
      style="background-image: url('./assets/image/background.png')"
    >
      <!-- LOGO DI POJOK KIRI ATAS -->
      <div class="absolute top-6 left-6 flex items-center gap-2 z-20">
        <img src="./assets/image/logo.png" alt="Logo" class="h-10" />
      </div>

      <!-- CARD FORM -->
      <div
        class="bg-white max-w-md w-full p-8 rounded-xl shadow-md border text-center"
      >
        <!-- STEP 1: Recaptcha -->
        <div id="recaptcha-section">
          <h2 class="text-lg font-bold mb-2">Verifikasi Nomor Anda</h2>
          <p class="text-sm text-gray-600 mb-4">
            Kode OTP akan dikirim ke nomor:<br />
            <span class="font-medium" id="otpNomor"></span>
          </p>
          <div id="recaptcha-container" class="flex justify-center mb-4"></div>
          <button
            id="sendOtpBtn"
            class="w-full bg-cyan-500 text-white font-semibold py-2 rounded-md hover:bg-cyan-600 transition"
          >
            Kirim OTP
          </button>
        </div>

        <!-- STEP 2: OTP Input -->
        <div id="otp-section" style="display:none;">
          <h2 class="text-lg font-bold mb-2">Masukkan Kode OTP</h2>
          <div
            class="flex justify-center gap-2 mb-4"
            id="otpInputs"
          >
            <input
              type="text"
              maxlength="1"
              class="w-10 h-10 rounded-md text-center text-xl border-2 border-cyan-400 focus:outline-none"
            />
            <input
              type="text"
              maxlength="1"
              class="w-10 h-10 rounded-md text-center text-xl border-2 border-cyan-400 focus:outline-none"
            />
            <input
              type="text"
              maxlength="1"
              class="w-10 h-10 rounded-md text-center text-xl border-2 border-cyan-400 focus:outline-none"
            />
            <input
              type="text"
              maxlength="1"
              class="w-10 h-10 rounded-md text-center text-xl border-2 border-cyan-400 focus:outline-none"
            />
            <input
              type="text"
              maxlength="1"
              class="w-10 h-10 rounded-md text-center text-xl border-2 border-cyan-400 focus:outline-none"
            />
            <input
              type="text"
              maxlength="1"
              class="w-10 h-10 rounded-md text-center text-xl border-2 border-cyan-400 focus:outline-none"
            />
          </div>
          <div id="otpError" class="text-red-500 text-sm mb-2 hidden"></div>
          <button
            id="verifyOtpBtn"
            class="w-full bg-cyan-500 text-white font-semibold py-2 rounded-md hover:bg-cyan-600 transition"
          >
            Verifikasi OTP
          </button>
        </div>

        <!-- STEP 3: Reset Password Form -->
        <div id="resetpw-section" style="display:none;">
          <p class="text-gray-700 mb-6">
            Silahkan masukkan dan konfirmasi kata sandi baru Anda untuk
            melanjutkan.
          </p>
          <form id="resetPwForm" class="space-y-4">
            <!-- Password Baru -->
            <div class="relative mt-4">
              <input
                id="password"
                type="password"
                placeholder="Masukkan password"
                class="w-full px-4 py-3 rounded-xl shadow text-sm focus:outline-none pr-10"
                required
              />
              <img
                id="togglePassword1"
                src="./assets/image/tutup.png"
                alt="Toggle"
                class="w-5 h-5 absolute top-1/2 right-3 -translate-y-1/2 cursor-pointer"
              />
            </div>

            <!-- Konfirmasi Password -->
            <div class="relative mt-4">
              <input
                id="confirmPassword"
                type="password"
                placeholder="Konfirmasi kata sandi"
                class="w-full px-4 py-3 rounded-xl shadow text-sm focus:outline-none pr-10"
                required
              />
              <img
                id="togglePassword2"
                src="./assets/image/tutup.png"
                alt="Toggle"
                class="w-5 h-5 absolute top-1/2 right-3 -translate-y-1/2 cursor-pointer"
              />
            </div>
            <div id="pwError" class="text-red-500 text-sm mb-2"></div>
            <button
              type="submit"
              class="w-full bg-cyan-500 text-white font-semibold py-2 rounded-md hover:bg-cyan-600 transition"
            >
              Ubah sandi
            </button>
          </form>
        </div>
      </div>
    </section>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
    <script src="config/firebase-config.js"></script>
    <script src="account/passwordReset.js"></script>
  </body>
</html>
